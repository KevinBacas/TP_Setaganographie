/**************************************************************************/
/**************************************************************************/
/* Name ........ : PGM.h                                                  */
/* Role ........ : Mini library to manipulate PGM files.                  */
/*                                                                        */
/* Author ...... : Morgan Barbier <morgan.barbier@ensicaen.fr>            */
/* Version ..... : V1.0 2013-01-20                                        */
/* Licence ..... : CC                                                     */
/**************************************************************************/
/**************************************************************************/
#ifndef __PGM_H__
#define __PGM_H__

#include <stdio.h>
#include <stdlib.h>
#include "error.h"
#include "file.h"
#include "matrix.h"

typedef struct PGM{
  matrix* img;
  uint grayscale;
} pgm;

/**************************************************************************/
/**************************************************************************/
/* Function allocates and initializes the pgm structure 'r' given by the  */
/* file called 'filename'.                                                */
/**************************************************************************/
/**************************************************************************/
void PGM_create(pgm** r,  const char* filename);

/**************************************************************************/
/**************************************************************************/
/* Function free correctly the pgm structure.                             */
/**************************************************************************/
/**************************************************************************/
void PGM_destroy(pgm** p);

/**************************************************************************/
/**************************************************************************/
/* Function which print the pgm 'p' in the file 'out'.                    */
/**************************************************************************/
/**************************************************************************/
void PGM_fprint(FILE* out,const pgm* p);

/**************************************************************************/
/**************************************************************************/
/* Function which set 'r' as the width 'img'.                             */
/**************************************************************************/
/**************************************************************************/
void PGM_get_width(uint *r, const pgm* img);

/**************************************************************************/
/**************************************************************************/
/* Function which set 'r' as the height 'img'.                            */
/**************************************************************************/
/**************************************************************************/
void PGM_get_height(uint *r, const pgm* img);



#endif /* __PGM_H__ */
